<html>
  <head>
    <title>single pendulum</title>
    <script src="jquery.min.js" charset="utf-8"></script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="bob.js"></script>
    <script src="wave.js"></script>
    <link rel="stylesheet" type="text/css" href="wave.css">

  </head>

  <body>
    <h1>Pendulum Motion</h1>
    <p>
      <label for="nRadius"
              style="display: inline-block; width: 240px; text-align: right">
              Radius = <span id="nRadius-value"></span>
       </label>
       <input type="range" min="1" max="50" id="nRadius">
    </p>
    <p>
      <label for="length"
              style="display: inline-block; width: 240px; text-align: right">
              Length = <span id="length-value">â€¦</span>
       </label>
       <input type="range" min="1" max="300" id="length">
    </p>
    <svg width="960" height="500"></svg>

  <script type="text/javascript">
    var svg;
    var rod;
    var bob;

    var svgWidth = 1200
    var svgHeight = 600
    var padding = 20

    var data_freq = 4; // Datapoints per second
    var phase_data = []; // elements are {theta, thetadot}

    var t0 = Date.now();
    var t = Date.now();
    var gravity = 1;


    var p = d3.select("body")
        .append('svg')
        .attr("class","pen")
        .attr('width',svgWidth)
        .attr('height',svgHeight)


    $(document).ready(function() {
      svg = d3.select(".pen");


      pendulum.draw(true);

      // Update and display the pendulum
      d3.timer(function() {
        dt = Date.now() - t;
        t += dt;
        pendulum.update(dt/1000);
        pendulum.draw();
      });


      // Take data and display it
      setTimeout(function() {

      }, 1000/data_freq);
    });

    $("body").click(function(evt) {
    })




    // slider

    var width = 400;
    var height = 300;

    var holder = d3.select("body")
          .append("svg")
          .attr("width", width)
          .attr("height", height);


    // radius
    d3.select("#nRadius").on("input", function() {
      pendulum.getR();
      pendulum.draw()
    });

    update(20);

    function update(nRadius) {

      // adjust the text on the range slider
      d3.select("#nRadius-value").text(nRadius);
      d3.select("#nRadius").property("value", nRadius);

      // update the circle radius
      holder.selectAll("circle")
        .attr("r", nRadius);
    }









  </script>

  </body>
</html>
